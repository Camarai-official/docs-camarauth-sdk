---
title: "Emoji Encoder"
description: "CodificaciÃ³n de texto en emojis"
---

# Emoji Encoder

Sistema de codificaciÃ³n que oculta texto dentro de emojis usando variation selectors.

## Â¿CÃ³mo funciona?

Los emojis pueden llevar "variation selectors" invisibles que modifican su apariencia. Aprovechamos esto para:

1. Tomar un emoji base (ej: ğŸ˜€)
2. Agregar variation selectors que codifican caracteres
3. El resultado parece un emoji normal pero contiene datos ocultos

## encodeTextToEmojis

Codifica texto dentro de un emoji.

```typescript
function encodeTextToEmojis(baseEmoji: string, text: string): string
```

### Ejemplos

```typescript
import { encodeTextToEmojis } from '@camarauth/sdk';

// Codificar 'A' en ğŸ˜€
const encoded1 = encodeTextToEmojis('ğŸ˜€', 'A');
console.log(encoded1); // "ğŸ˜€ó „€" (emoji + variante invisible)

// Codificar 'Hola'
const encoded2 = encodeTextToEmojis('ğŸ‰', 'Hola');
console.log(encoded2); // "ğŸ‰ó „ˆó „ó „‹ó „"

// En WhatsApp se ve como: ğŸ‰ (pero contiene "Hola")
```

## decodeEmojiChunk

Decodifica un emoji con variation selectors.

```typescript
function decodeEmojiChunk(chunk: string): string | null
```

### Ejemplos

```typescript
import { decodeEmojiChunk } from '@camarauth/sdk';

const encoded = encodeTextToEmojis('ğŸ˜€', 'A');
const decoded = decodeEmojiChunk(encoded);
console.log(decoded); // "A"

// Si no tiene datos
const empty = decodeEmojiChunk('ğŸ˜€');
console.log(empty); // null
```

## decodeEmojisFull

Decodifica un string completo de emojis.

```typescript
function decodeEmojisFull(emojiString: string): string
```

### Ejemplos

```typescript
import { decodeEmojisFull } from '@camarauth/sdk';

// El usuario envÃ­a estos emojis por WhatsApp
const userMessage = "ğŸ”ğŸ”‘ğŸ”’ğŸ”“ğŸ—ï¸ğŸ›¡ï¸";

// Decodificar
const pin = decodeEmojisFull(userMessage);
console.log(pin); // "ABC123"

// Si el usuario envia texto plano
const plain = decodeEmojisFull("PIN: ABC123");
console.log(plain); // "ABC123" (extrae automÃ¡ticamente)
```

## Flujo completo

```typescript
import { 
  generatePin, 
  encodePinToEmojis, 
  decodeEmojisFull 
} from '@camarauth/sdk';

// 1. Generar PIN
const pin = generatePin();
console.log(pin); // "ABC123"

// 2. Codificar en emojis
const emojis = encodePinToEmojis(pin);
console.log(emojis); // ["ğŸ”", "ğŸ”‘", "ğŸ”’", "ğŸ”“", "ğŸ—ï¸", "ğŸ›¡ï¸"]

// 3. Enviar a WhatsApp
const message = `PIN: ${emojis.join('')}`;
// El usuario envÃ­a: "PIN: ğŸ”ğŸ”‘ğŸ”’ğŸ”“ğŸ—ï¸ğŸ›¡ï¸"

// 4. Recibir y decodificar (en webhook)
const receivedMessage = "PIN: ğŸ”ğŸ”‘ğŸ”’ğŸ”“ğŸ—ï¸ğŸ›¡ï¸";
const decodedPin = decodeEmojisFull(receivedMessage);
console.log(decodedPin); // "ABC123"

// 5. Verificar
if (decodedPin === pin) {
  console.log('Â¡PIN correcto!');
}
```

## CaracterÃ­sticas

- âœ… **Invisible**: Los variation selectors no se ven
- âœ… **Compatible**: Funciona en WhatsApp, Telegram, etc.
- âœ… **Seguro**: No altera el emoji base
- âœ… **Compacto**: Un emoji = un carÃ¡cter

## Limitaciones

- Cada emoji puede codificar un carÃ¡cter
- Algunos caracteres especiales pueden no codificarse bien
- El orden de los emojis importa

## Casos de uso

### AutenticaciÃ³n por WhatsApp

```typescript
// Backend genera PIN
const pin = generatePin();
const emojis = encodePinToEmojis(pin);

// Muestra al usuario: "EnvÃ­a estos emojis: ğŸ”ğŸ”‘ğŸ”’"
// Usuario los copia y pega en WhatsApp

// Backend recibe webhook y decodifica
const decoded = decodeEmojisFull(receivedEmojis);
```

### Mensajes secretos

```typescript
// Codificar mensaje
const secret = encodeTextToEmojis('ğŸ', 'Hola mundo');
// Se ve como: ğŸ (pero contiene "Hola mundo")

// Decodificar
const message = decodeEmojiChunk(secret);
console.log(message); // "Hola mundo"
```

## VÃ©ase tambiÃ©n

- [Pin Generator](/core/pin-generator)
- [Core Overview](/core/overview)
